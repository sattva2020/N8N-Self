[defaults]
inventory = tests/ansible/inventory.ini
host_key_checking = False
retry_files_enabled = False
# Where roles and library may live in this repo
roles_path = ./roles:./tests/ansible/roles
library = ./library

# Control persistent connections via ssh
# Use a short control path to avoid windows path length issues under WSL
control_path = /tmp/ansible-%%h-%%p-%%r

# Default remote user for local development (can be overridden by cli or inventory)
remote_user = root

# Enable pipelining to reduce SSH overhead when sudo is not used
pipelining = True

# Callback and stdout settings to keep CI logs compact
stdout_callback = default
log_path = ./logs/ansible.log

[ssh_connection]
# Try to reuse ssh connections
ssh_args = -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes
control_master = auto
control_persist = 60s

[paramiko_connection]
# fallback if paramiko used

[privilege_escalation]
become=True
become_method=sudo
become_user=root

[retry]
# disable automatic retry file creation
retry_files_enabled=False
